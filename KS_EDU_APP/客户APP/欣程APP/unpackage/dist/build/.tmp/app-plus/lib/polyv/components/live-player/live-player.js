(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["lib/polyv/components/live-player/live-player"],{"0e22":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n})},9459:function(e,t,i){"use strict";i.r(t);var o=i("a941"),n=i.n(o);for(var s in o)"default"!==s&&function(e){i.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},a941:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("7ede"));function n(e){return e&&e.__esModule?e:{default:e}}var s={props:{videoOption:{type:Object},skin:{type:String,default:"black"}},watch:{videoOption:{handler:function(e){this._setData(e),2===e.liveMode?this.isVod=!0:this.isVod=!1,this.init()},deep:!0,immediate:!0}},data:function(){return{liveMode:1,videoSrc:"",isVod:!1,statistics:{},plvLiveType:"live",loop:!1,isWarm:!1,isAutoChange:!1,forceVideo:1,isOffNetwork:!1,isOffLive:!1,isBrokenNet:!1,networkTips:"网络异常，请退出后重试",canWatch:!0,imgSrc:""}},mounted:function(){this.liveVideoContext=e.createLivePlayerContext("plvLivePlayer",this),this.liveVodVideoContext=e.createVideoContext("plvLiveVodPlayer",this)},destroyed:function(){this.polyvLive&&this.polyvLive.destroy()},methods:{init:function(){this.polyvLive&&this.polyvLive.destroy&&this.polyvLive.destroy(),this.polyvLive=new o.default,this.initLiveType(),this.initLivePlayer()},_setData:function(e){var t=this,i=Object.keys(e);i.map(function(i){t[i]=e[i]})},initLivePlayer:function(){var e=this,t=this.uid,i=this.cid,o=this.statistics,n=this.isOffNetwork,s=this.forceVideo,r=this.skin,a=this.isVod,c=this.vodsrc,v="white"===r;this.polyvLive.getVideo({uid:t,vid:i,isSkinWhite:v,statistics:o,vodsrc:a?c:"",success:function(t){if(t.errorCode)e._setData({canWatch:!1,errorCode:t.errorCode});else if(1===e.liveMode){var i=s?t.src:t.flvSrc;e.setVideoSrc(i)}},onChangeType:function(t,i,o){var n=e.liveMode;e.videoSrc,e.forceVideo;"live"===t&&1===n||(e._setData({plvLiveType:t}),e.setLiveType(t,i))},onNetWorkChange:function(t){n!==t&&e._setData({isOffNetwork:t}),e.showNetWorkTips()},onApiStatus:function(t){e.$emit("onLiveStatusChange",{status:t})}})},initLiveType:function(){var e=this;this.liveType=new Map([["live",function(t){e.setLiveMode(1),e.setVideoSrc(t)}],["warmImage",function(t){e.setLiveMode(0),e.setWarmImg(t)}],["warmVideo",function(t){e.setLiveMode(2),e.setVideoSrc(t,!0,!1)}],["vod",function(t){e.setLiveMode(2),e.setVideoSrc(t)}],["default",function(){}]])},setLiveType:function(e,t){this.liveType.get(e)(t)||this.liveType.get("default")()},setLiveMode:function(e){this.liveMode!==e&&this._setData({liveMode:e})},setVideoSrc:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._setData({videoSrc:e,isWarm:t})},setWarmImg:function(e){this._setData({imgSrc:e})},onLiveTimeUpdate:function(e){var t=e.detail.currentTime;this.polyvLive.updateTime(t),this.$emit("onLiveStorageProgress",{currentTime:t})},onLiveVodEnded:function(){this.$emit("onLiveVodEnd")},onLiveVodError:function(){},onStateChange:function(e){var t=this,i=/-2301|-2302/i.test(e.detail.code);i&&(this.polyvLive.getReconnectSrc(function(e){t.setVideoSrc(e)}),this._setData({isOffLive:i})),2005===e.detail.code&&this.isBrokenNet&&this._setData({isBrokenNet:!1}),this.showNetWorkTips()},showNetWorkTips:function(e,t){this.isOffNetwork&&this.isOffLive&&!this.isBrokenNet&&this._setData({isBrokenNet:!0})}}};t.default=s}).call(this,i("6e42")["default"])},cf51:function(e,t,i){"use strict";i.r(t);var o=i("0e22"),n=i("9459");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("e798");var r=i("2877"),a=Object(r["a"])(n["default"],o["a"],o["b"],!1,null,"7e3342bb",null);t["default"]=a.exports},e798:function(e,t,i){"use strict";var o=i("f6f3"),n=i.n(o);n.a},f6f3:function(e,t,i){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'lib/polyv/components/live-player/live-player-create-component',
    {
        'lib/polyv/components/live-player/live-player-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("cf51"))
        })
    },
    [['lib/polyv/components/live-player/live-player-create-component']]
]);
